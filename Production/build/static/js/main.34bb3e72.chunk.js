(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t){},125:function(e,t){},159:function(e,t){},160:function(e,t){},203:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(90),r=n.n(i),c=n(6),l=n(91),u=n.n(l),s=n(16),p=n.n(s),m=function(e){return p.a.get("".concat("/api/user/","/").concat(e))},f=function(){return p.a.post("/api/user/")},d=function(e){return p.a.patch("".concat("/api/user/","/reset/").concat(e)).then((function(e){return e.data}))};var h=function(e){var t=e.togglePopup,n=e.changePopupContent,a=e.setPoints,i=e.showNotification,r=e.setUser,c=function(){var e=["The button game is a game where every player increase the same counter. The players start with 20 points and each time they press the button they lose 1 point. The points of a player can't be negative. ","Every 10 clicks a user gets points as a prize. A player can win up to one prize with a single click. If the same click would win many prizes, the player gets the biggest possible prize from the list below. ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null," The prizes are as following: "),o.a.createElement("li",{key:"1"}," ",o.a.createElement("b",null," 5 points ")," every ",o.a.createElement("b",null," 10 clicks ")," "),o.a.createElement("li",{key:"2"}," ",o.a.createElement("b",null," 40 points ")," every ",o.a.createElement("b",null," 100 clicks ")," "),o.a.createElement("li",{key:"3"}," ",o.a.createElement("b",null," 250 points ")," every ",o.a.createElement("b",null," 500 clicks ")," "),o.a.createElement("br",null),"If a player has 0 points he can reset his points back to 20.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"If your game is not working, try to:"),o.a.createElement("li",{key:"4"}," Refresh your browser "),o.a.createElement("li",{key:"5"}," Try to reset your points ",o.a.createElement("button",{className:"infoButton",onClick:function(){return function(){var e=window.localStorage.getItem("buttonGameUser");d(e).then((function(e){a(e.points),i("Points reset to 20",!1,5e3)})).catch((function(e){i("User has too much points or invalid user id",!0,5e3)}))}()}},"Reset points to 20")),o.a.createElement("li",{key:"6"}," Get a new user id and start from 20 points ",o.a.createElement("button",{className:"infoButton",onClick:function(){f().then((function(e){window.localStorage.setItem("buttonGameUser",e.data.user),r(e.data.user),a(e.data.points),i("New user saved. Starting at 20 points",!1,5e3)}))}},"Get new user id")," ")];n("Info",e),t()};return o.a.createElement("div",{id:"navbarStyle"},o.a.createElement("div",{id:"contentContainer"},o.a.createElement("img",{src:u.a,alt:"Logo",id:"logoImg"}),o.a.createElement("h2",{id:"headerStyle"},"BUTTON GAME"),o.a.createElement("div",{id:"infoDivStyle"},o.a.createElement("p",{id:"infoLink",onClick:function(){return c()}}," INFO "))))},g=n(92),b=n.n(g);var E=function(){return o.a.createElement("div",{id:"footerStyle"},o.a.createElement("div",{id:"contentContainer"},o.a.createElement("p",{id:"footerLeftStyle"},"The Button Game - 2020"),o.a.createElement("div",{id:"footerRightStyle"},o.a.createElement("a",{href:"https://github.com/harjunpnik/The-Button-Game"},o.a.createElement("img",{src:b.a,alt:"github logo",id:"githubImgStyle"})))))};var y=function(e){var t=e.header,n=e.message,a=e.togglePopup,i=e.notificationMessage,r=e.isError,c={error:{color:"red",fontSize:"20px",marginLeft:"2%",marginRight:"2%",textAlign:"center"},success:{color:"green",fontSize:"20px",marginLeft:"2%",marginRight:"2%",textAlign:"center"}};return o.a.createElement("div",{id:"popupStyle"},o.a.createElement("div",{id:"popupInnerStyle"},o.a.createElement("button",{id:"closePopupButton",onClick:a},"X"),o.a.createElement("h2",{id:"headerPopupStyle"},t),o.a.createElement("div",{id:"popupContentStyle"},n.map((function(e,t){return o.a.createElement("span",{key:t}," ",e," ")}))),o.a.createElement("div",{style:r?c.error:c.success}," ",i," ")))},v=function(e){return p.a.patch("".concat("/api/click/","/").concat(e)).then((function(e){return e.data}))},S=n(93),w=n.n(S);var k=function(e){var t=e.points,n=e.setPoints,i=e.togglePopup,r=e.changePopupContent,l=e.showNotification,u=e.user,s=e.setUser,p=Object(a.useState)(null),h=Object(c.a)(p,2),g=h[0],b=h[1],E=Object(a.useState)(null),y=Object(c.a)(E,2),S=y[0],k=y[1],O=Object(a.useState)(null),j=Object(c.a)(O,2),P=j[0],C=j[1],I=Object(a.useState)(null),T=Object(c.a)(I,2),N=T[0],x=T[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("buttonGameUser");e?(s(e),m(e).then((function(e){n(e.data.points)}))):f().then((function(e){window.localStorage.setItem("buttonGameUser",e.data.user),s(e.data.user),n(e.data.points)}))}),[]);var U=function(){if(t<1){var e=["You do not have enough points to play. Do you want to reset your points?",o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){d(u).then((function(e){n(e.points),l("Points reset to 20",!1,5e3)})).catch((function(e){l("User has too much points or invalid user id",!0,5e3)}))}},"Reset points to 20")];r("Not enough points",e),i()}else v(u).then((function(e){n(e.points),e.reward<1?C("lose-points"):(C("win-points"),z(e.reward)),b(e.nextPrize),k(w.a.generate())})).catch((function(e){}))},z=function(e){x("+"+e),setTimeout((function(){x(null)}),500)};return o.a.createElement("div",{id:"background"},o.a.createElement("div",{id:"contentContainerInner"},o.a.createElement("p",{id:"pointStyle"}," ",o.a.createElement("span",{className:P,key:S},t)," ",o.a.createElement("span",{id:"rewardStyle"}," ",N," "),"  "),o.a.createElement("p",{id:"pointTextStyle"}," POINTS "),o.a.createElement("button",{id:"gameButton",onClick:function(){return U()}}," Click "),o.a.createElement("p",{id:"prizeTextStyle"}," Clicks to next prize: ",o.a.createElement("br",null)," ",g," ")))};n(203);var O=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),l=Object(c.a)(r,2),u=l[0],s=l[1],p=Object(a.useState)(!1),m=Object(c.a)(p,2),f=m[0],d=m[1],g=Object(a.useState)(""),b=Object(c.a)(g,2),v=b[0],S=b[1],w=Object(a.useState)([]),O=Object(c.a)(w,2),j=O[0],P=O[1],C=Object(a.useState)(null),I=Object(c.a)(C,2),T=I[0],N=I[1],x=Object(a.useState)(null),U=Object(c.a)(x,2),z=U[0],G=U[1],B=function(){d(!f)},R=function(e,t){S(e),P(t)},L=function(e,t,n){N(e),G(t),setTimeout((function(){N(null),G(null)}),n)};return o.a.createElement("div",null,o.a.createElement(h,{togglePopup:B,changePopupContent:R,setPoints:i,showNotification:L,setUser:s}),o.a.createElement(k,{points:n,setPoints:i,togglePopup:B,changePopupContent:R,showNotification:L,user:u,setUser:s}),f?o.a.createElement(y,{message:j,togglePopup:B,header:v,notificationMessage:T,isError:z}):null,o.a.createElement(E,null))};r.a.render(o.a.createElement(O,null),document.getElementById("root"))},91:function(e,t,n){e.exports=n.p+"static/media/logo.abf7c1ae.ico"},92:function(e,t,n){e.exports=n.p+"static/media/githubIcon.c0764ae4.png"},94:function(e,t,n){e.exports=n(204)}},[[94,1,2]]]);
//# sourceMappingURL=main.34bb3e72.chunk.js.map